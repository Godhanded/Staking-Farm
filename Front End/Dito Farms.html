<html>
    <body>
        <h1>DitoFarms</h1>
        <p>Buy MUSDT and stake, Get rewarded in DUSD</p>
        <label for = "stakeAmount">Stake Amount</label>
        <input type = "number" id = "stakeAmount" />
        <div>
            <button onclick="Stake()"> Stake MUSDT</button>
        </div>
        <div>
            <button onclick="unstake()"> Unstake MUSDT</button>
        </div>
        <div>
            <button onclick="collectReward()">Claim Reward</button>
        </div>
    </body>
    <script
        charset="utf-8"
        src="https://cdn.ethers.io/scripts/ethers-v4.min.js"
        type="text/javascript"
    ></script>
    <script>window.ethereum.enable();
    var provider = new ethers.providers.Web3Provider(web3.currentProvider, "rinkeby");
    var DitoFarmsContractAddress = "0xAa31B59e9A4D47E8Afa6B3fB2c9c80E3d54EC836";
    var DitoFarmABI = [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_mockaddr",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_Dusd",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_amount",
          "type": "uint256"
        }
      ],
      "name": "Stake",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "collectReward",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        },
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        },
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "hasStaked",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "reward",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "stakedToken",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "staker",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "unstake",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ] ;
    var DitoFarm;
    var signer;
    provider.listAccounts().then(function(accounts) {
        signer = provider.getSigner(accounts[0]);
        DitoFarm = new ethers.Contract(
            DitoFarmsContractAddress,
            DitoFarmABI,
            signer
        );
    });
    async function Stake(){
        let farms =  document.getElementById("stakeAmount").value;
        StakePromise=DitoFarm.Stake(farms);
        await StakePromise;
    
    }
    async function unstake(){
        
     UnstakePromise = DitoFarm.unstake();
     await UnstakePromise;
    }
    </script>
</html>